<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Most wanted skills</title>
    <link rel="stylesheet" href="static/css/bulma.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
          integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="static/js/lib/Chart.min.js"></script>
    <script src="static/js/lib/vue-chartjs.min.js"></script>
</head>
<body>

<div id="grades">
    <section class="hero is-link">
        <div class="hero-body">
            <div class="container">
                <h1 class="title is-1">
                    <i class="fas fa-terminal"></i>&nbsp;Most wanted IT skills for
                </h1>
                <div class="is-flex">
                    <input class="input is-large" type="text" placeholder="java developer" @keyup.enter="fetchSkills"
                           v-model="searchLine" id="searchInput">&nbsp;
                    <a class="button is-primary is-large" id="btn" @click="fetchSkills">Search</a>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <br><br>
        <div v-if="fetching">
            <progress class="progress is-small is-primary" max="100"></progress>
        </div>
        <div v-else-if="skills.data">
            <div v-for="(value,index) in skills.data">
                <span class="tag is-white">{{ ++index }}.</span>
                <span v-if="index < 5" class="tag is-primary">{{ value._id }}</span>
                <span v-if="index >= 5 && index < 10" class="tag is-info">{{ value._id }}</span>
                <span v-if="index >= 10" class="tag is-light">{{ value._id }}</span>
                &nbsp;<a @click.stop.prevent="value.visible = !value.visible">{{ value.frequency }}
                jobs</a>

                <div v-show="value.visible" style="margin-left: 3em;">
                    <ul>
                        <li v-for="vac in value.vacs">
                            <a :href="`${vac.url}`" target="_blank" class="is-size-7">{{ vac.name }}</a>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
        <div v-else>
            <progress class="progress is-small is-primary" max="100"></progress>
        </div>
        <br>

        <line-chart></line-chart>

        <div class="notification is-light" v-show='api_visible'>
            <button class="delete" @click="api_visible=false"></button>
            <h1 class="title is-4">Skoglee.com API</h1>
            <p>This API allows you to search jobs with specified skills with JSON over HTTP.</p>
            <br>
            <p><strong>To get a list of skills with their IDs use this URL:</strong></p>
            <p>http://skoglee.com/api/v1/ref/skills/</p>
            <br>
            <p><strong>To get a list of jobs for a particular skill use this URL:</strong></p>
            <p>http://skoglee.com/api/v1/vacancies/{skill}</p>
            <br>
            <p><strong>To get a list of the 20 most required skills for a particular position use this URL:</strong>
            </p>
            <p>http://skoglee.com/api/v1/topskills/{position}</p>
        </div>

        <div class="notification is-light" v-show='about_visible'>
            <button class="delete" @click="about_visible=false"></button>
            <h1 class="title is-4">About project</h1>
            <p>Skoglee is a webapp where you can view the most wanted developer skills for employers. Such an indicator
                of the most sought-after technology in the industry at the time. For example, enter the title of the
                post - python developer. It will display a list of technologies or tools required in the vacancies for this request in
                descending order of their frequency. That is, in the top will be the most popular technology, the study
                of which is worth spending time.</p>
        </div>

        <div class="notification is-light" v-show='advert_visible'>
            <button class="delete" @click="advert_visible=false"></button>
            <h1 class="title is-4">Advertisement</h1>
        </div>

    </div>

    <footer class="footer">

        <div class="content has-text-centered is-primary">
            <p>
                <a @click.stop.prevent="about_visible = !about_visible">About</a>&nbsp;&nbsp;&nbsp;
                <a @click.stop.prevent="advert_visible = !advert_visible">Advertise</a>&nbsp;&nbsp;&nbsp;
                <a @click.stop.prevent="api_visible = !api_visible">API</a>
            </p>
            <p>
                <strong>skoglee.com</strong> by <a href="https://github.com/gmark4212"><i class="fab fa-github"></i>&nbsp;Mark
                G</a>
            </p>
        </div>
    </footer>
</div>

<script src="/static/js/main.js"></script>
<script src="/static/js/components.js"></script>
</body>
</html>